<!DOCTYPE html>
<!-- This is the front page of the website, will advertise the website and provide a log in-->
<html lang="en">
  <head>
  	<meta charset="utf-8">
    <title>Advert Front Page</title>
    <link rel="import" href="Navbar.html"></link>
    <link rel="stylesheet" type="text/css" href="css/page_specific/FrontPage.css"></link>
  </head>
  <body onload="fillAd(); fillMatches(); fillInvs(); fillGeo();">
  	<div id="navbar_header"></div>
    <div class="container-fluid">
	    <div class="row">
	      <div class="col-sm-1 col-lg-1">
	        <img src="img/advertlogo.png" id="background_img" class="img-rounded" alt="Ad-vert.png">
	      </div>
	      <div class="col-sm-10 col-lg-10 col-center rounded">
	      <img src="img/advertlogo.png" class="img-rounded" alt="Ad-vert.png" style="display:block; margin: auto">
	      	<h1 id="getName" style="padding-bottom : 2%">Hello, </h1>
	      	<div class="container-fluid">
	      		<div class="col-sm-6 col-md-6 col-lg-6 col-widget rounded">
	      			<div class="panel panel-default">
  						<div class="panel-header"><h2>Your Advert</h2></div>
  						<div class="panel-body">
  							<ul id="looking_id"><h4 id="looking_id">You are looking for:</h4></ul>
  							<ul id="offering_id"><h4>You can offer others:</h4></ul>
  							<button onclick="editAd()" type="button" class="btn btn-default" style="float:right">Edit Advert</button>
  						</div>
					</div>
	      		</div>
	      		<div class="col-sm-6 col-md-6 col-lg-6 col-widget rounded">
	      			<div class="panel panel-default">
  						<div class="panel-header"><h2>Potential Matches</h2></div>
  						<div class="panel-body">
  							<h4>Your top 3 matches: </h4>
  							<br>
  							<br>
  							<br>
  							<br>
  							<button type="button" class="btn btn-default" style="float:right">More matches</button>
  						</div>
					</div>
	      		</div>
	      		<div class="col-sm-6 col-md-6 col-lg-6 col-widget rounded">
	      			<div class="panel panel-default">
	      				<div class="panel-header"><h2 class="panel-header-title">Invitation</h2></div>
  						<div class="panel-body">
  							<h4>Invitations: </h4>
  							<button type="button" class="btn btn-default" style="float:right">More Invites</button>
  						</div>
					</div>
	      		</div>
	      		<div class="col-sm-6 col-md-6 col-lg-6 col-widget rounded">
	      			<div class="panel panel-default">
  						<div class="panel-header"><h2 class="panel-header-title">Local Area</h2></div>
  						<div class="panel-body">
  						<h4>People in Your Area:</h4>
  							<button onclick="addName()" type="button" class="btn btn-default" style="float:right">Enlarge Map</button>
  						</div>
					</div>
	      		</div>
	      	</div>
	      </div>
	      <div class="col-sm-1 col-lg-1">
	      </div>
	    </div>
	    <br></br>
    </div>
      	<script type="text/javascript">
      	var curId;
      	var curName;
        FB.init({
            appId      : '277582446020416',
            xfbml      : true,
            cookie     : true,
            version    : 'v2.8'
          });
  		function editAd() {
  			window.location.replace("AdManager.html");
  		}
		function fillAd() {
	        FB.getLoginStatus(function(response) {
	            FB.api("/me", function(theRes) {
	            	console.log("ITS HERE   " + JSON.stringify(theRes));
	            	console.log("ITS ID     " + theRes.id);
	            	console.log("ITS NAME   " + theRes.name);
	            	curId = theRes.id;
	            	curName = theRes.name;
	            	httpGETAsync("rest/adverts/myadvert/"+curId, function(res) {
	    	  			console.log("POOSER      "+JSON.stringify(res));
	    	  			var j = JSON.parse(res);
	    	  			for (var i=0; i<j.look.length; i++) {
	    	  				var a = document.createElement("li");
	    	  				a.innerHTML = j.look[i];
		    	  			$("#looking_id").append(a);
	    	  			}
	    	  			for (var i=0; i<j.offer.length; i++) {
	    	  				var a = document.createElement("li");
	    	  				a.innerHTML = j.offer[i];
		    	  			$("#offering_id").append(a);
	    	  			}
	    	  		});
	            });
	        }); 
		}
		function fillMatches() {
				
		}
		function fillInvs() {
				
		}
		function fillGeo() {
				
		}
  	</script>
</body>
</html>